from mBase import stressModelBase,stress

class tidal(stressModelBase):
    # !!!ADDDOC
    def __init__(self,RefHt):
        # !!!ADDDOC
        """
        The tidal model Reynold's stress model.  The u'w' component decreases linearly with z to zero at z=config['RefHt']
        """
        self.Zref=RefHt

    def __call__(self,tsrun):
        out=stress(tsrun)
        out.upwp_=-(1-out.z[:,None]/RefHt)*out.upwp_max[-1:][None,:]
        out.upwp_[out.z>RefHt]=0
        # The other components default to zero.
        return out

